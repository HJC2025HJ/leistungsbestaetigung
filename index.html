<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Leistungsbestätigung – HJ Cleaning</title>

<style>
*{box-sizing:border-box}

body{
margin:0;
font-family:Arial,Helvetica,sans-serif;
background:#eef2f3;
}

.container{
max-width:1200px;
margin:auto;
background:#fff;
padding:24px;
border-radius:14px;
position:relative;
overflow:hidden;
}

/* ===== FILIGRANE ===== */
.watermark{
position:absolute;
inset:0;
background:url("HJ_Clean.png") center/70% no-repeat;
opacity:0.15;
pointer-events:none;
z-index:0;
}

.content{position:relative;z-index:1}

/* ===== HEADER ===== */
.header{
display:flex;
gap:20px;
align-items:center;
border-bottom:2px solid #e5e7eb;
padding-bottom:12px;
}
.header img{max-width:140px}
.company{font-size:14px}

/* ===== TITRES ===== */
h1{text-align:center;margin:20px 0}
.section-title{
display:flex;
align-items:center;
gap:8px;
font-weight:bold;
margin-top:25px;
}
.section-title::before{
content:"";
width:4px;
height:20px;
background:#22c55e;
border-radius:2px;
}

/* ===== GRID ===== */
.grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
gap:14px;
margin-top:10px;
}

/* ===== FLOATING LABELS ===== */
.field{
position:relative;
}
.field input,
.field select{
width:100%;
padding:14px 10px 6px;
border:1px solid #d1d5db;
border-radius:8px;
font-size:14px;
}
.field label{
position:absolute;
left:10px;
top:4px;
font-size:12px;
color:#374151;
background:#fff;
padding:0 4px;
}

/* ===== EMPLOYÉS ===== */
.employee-list{
display:flex;
flex-direction:column;
gap:10px;
}
.employee-item{
display:flex;
align-items:center;
gap:10px;
}
.employee-item input{
width:18px;
height:18px;
margin:0;
}

/* ===== SIGNATURES ===== */
.signatures{
display:grid;
grid-template-columns:1fr 1fr;
gap:20px;
}
@media(max-width:700px){
.signatures{grid-template-columns:1fr}
}

.signature-box{
border:1px dashed #9ca3af;
border-radius:10px;
padding:10px;
}
canvas{
width:100%;
height:160px;
border:1px dashed #9ca3af;
border-radius:8px;
}
.sig-actions{
display:flex;
gap:10px;
margin-top:8px;
}
button{
border:none;
padding:10px 14px;
border-radius:8px;
color:#fff;
cursor:pointer;
}
.confirm{background:#22c55e}
.clear{background:#ef4444}
.print{
width:100%;
margin-top:25px;
background:#2563eb;
font-size:16px;
}

/* ===== PRINT ===== */
@media print{
body{background:#fff}
button,.sig-actions{display:none}
.container{box-shadow:none;border-radius:0}
}
</style>
</head>

<body>
<div class="container">
<div class="watermark"></div>
<div class="content">

<div class="header">
<img src="HJ_Clean.png">
<div class="company">
<b>Cleaning – Marke von HJ Corporate GbR</b><br>
Stauseestraße 27b, 54317 Riveris<br>
Tel. +49 176 87898900 · info@hjcorporate.de
</div>
</div>

<h1>Leistungsbestätigung</h1>

<!-- MITARBEITER -->
<div class="section-title">Mitarbeiter</div>
<div class="employee-list">
<label class="employee-item">
<input type="checkbox" class="emp"> Hervé Mbarga
</label>
<label class="employee-item">
<input type="checkbox" class="emp"> Jacky Massing
</label>
</div>

<!-- KUNDE -->
<div class="section-title">Kunde</div>
<div class="grid">
<div class="field"><label>Vorname</label><input></div>
<div class="field"><label>Nachname</label><input></div>
<div class="field"><label>Telefon</label><input></div>
<div class="field"><label>Anschrift</label><input></div>
</div>

<!-- DATUM & ZEIT -->
<div class="section-title">Datum & Zeit</div>
<div class="grid">
<div class="field"><label>Datum</label><input type="date" id="date"></div>
<div class="field">
<label>Beginn (HH / MM)</label>
<select id="sh"></select>
<select id="sm"></select>
</div>
<div class="field">
<label>Ende (HH / MM)</label>
<select id="eh"></select>
<select id="em"></select>
</div>
</div>

<!-- BERECHNUNG -->
<div class="section-title">Berechnung</div>
<div class="grid">
<div class="field"><label>Anzahl Mitarbeiter</label><input id="count" readonly></div>
<div class="field"><label>Arbeitsstunden</label><input id="hours" readonly></div>
<div class="field"><label>€/Stunde</label><input id="rate" type="number"></div>
<div class="field"><label>Gesamtbetrag €</label><input id="total" readonly></div>
</div>

<!-- SIGNATURES -->
<div class="section-title">Unterschriften</div>
<div class="signatures">
<div class="signature-box">
<b>Kunde</b>
<canvas id="sigK"></canvas>
<div class="sig-actions">
<button class="confirm">Bestätigen</button>
<button class="clear" onclick="clearSig('sigK')">Löschen</button>
</div>
</div>
<div class="signature-box">
<b>Mitarbeiter</b>
<canvas id="sigM"></canvas>
<div class="sig-actions">
<button class="confirm">Bestätigen</button>
<button class="clear" onclick="clearSig('sigM')">Löschen</button>
</div>
</div>
</div>

<button class="print" onclick="window.print()">Als PDF speichern / drucken</button>

</div>
</div>

<script>
/* heures/minutes */
function fill(id,max){
const s=document.getElementById(id);
for(let i=0;i<=max;i++){
const o=document.createElement("option");
o.value=o.text=String(i).padStart(2,"0");
s.appendChild(o);
}
}
["sh","eh"].forEach(i=>fill(i,23));
["sm","em"].forEach(i=>fill(i,59));

/* calcul */
const emps=document.querySelectorAll(".emp");
const count=document.getElementById("count");
const hours=document.getElementById("hours");
const rate=document.getElementById("rate");
const total=document.getElementById("total");

function calc(){
const c=[...emps].filter(e=>e.checked).length;
count.value=c;
const sh=+shh.value+ +smm.value/60;
const eh=+ehh.value+ +emm.value/60;
let h=Math.max(0,eh-sh)*c;
hours.value=h.toFixed(2);
total.value=(h*(+rate.value||0)).toFixed(2);
}

const shh=document.getElementById("sh");
const smm=document.getElementById("sm");
const ehh=document.getElementById("eh");
const emm=document.getElementById("em");

[...emps,shh,smm,ehh,emm,rate].forEach(e=>e.addEventListener("change",calc));

/* signatures */
function enable(c){
const ctx=c.getContext("2d");
let d=false;
c.onpointerdown=()=>d=true;
c.onpointerup=()=>{d=false;ctx.beginPath()};
c.onpointermove=e=>{
if(!d)return;
const r=c.getBoundingClientRect();
ctx.lineWidth=2;
ctx.lineTo(e.clientX-r.left,e.clientY-r.top);
ctx.stroke();
ctx.beginPath();
ctx.moveTo(e.clientX-r.left,e.clientY-r.top);
}
}
enable(sigK);enable(sigM);
function clearSig(id){
const c=document.getElementById(id);
c.getContext("2d").clearRect(0,0,c.width,c.height);
}
</script>
</body>
</html>
