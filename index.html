<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LeistungsbestÃ¤tigung</title>

<style>
:root{
--green:#2ecc71;
--gray:#f2f2f2;
--border:#dcdcdc;
}

*{box-sizing:border-box;}

html,body{
margin:0;
padding:0;
background:#eef3f0;
font-family:Arial,Helvetica,sans-serif;
}

.container{
width:210mm;
height:297mm;
margin:auto;
background:white;
padding:10mm;
position:relative;
overflow:hidden;
}

/* ===== WATERMARK ===== */
.watermark{
position:absolute;
inset:0;
background:url("HJ_Clean.png") center/80% no-repeat;
opacity:0.08;
pointer-events:none; /* ðŸ”’ Nâ€™INTERFÃˆRE PLUS */
}

/* ===== TITLES ===== */
h1{text-align:center;margin:10px 0;}
.section-title{
margin-top:12px;
font-weight:bold;
border-left:4px solid var(--green);
padding-left:8px;
}

/* ===== GRID ===== */
.grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
gap:10px;
}

/* ===== FLOATING LABELS ===== */
.field{
position:relative;
}
.field input,
.field select{
width:100%;
padding:14px 10px 6px;
border:1px solid var(--border);
border-radius:8px;
background:#fafafa;
}
.field label{
position:absolute;
left:10px;
top:50%;
transform:translateY(-50%);
font-size:13px;
color:#777;
background:white;
padding:0 4px;
pointer-events:none;
transition:.2s;
}
.field input:focus+label,
.field input:not(:placeholder-shown)+label,
.field select:focus+label{
top:2px;
font-size:11px;
color:var(--green);
}

/* ===== MITARBEITER ===== */
.checkbox{
display:flex;
align-items:center;
gap:8px;
}

/* ===== SIGNATURE ===== */
.signature-box{
border:2px dashed #bbb;
border-radius:8px;
height:120px;
position:relative;
}
.signature-box canvas{
width:100%;
height:100%;
touch-action:none;
}
.sig-actions{
display:flex;
gap:10px;
margin-top:6px;
}
.sig-actions button{
flex:1;
padding:6px;
border:none;
color:white;
border-radius:6px;
}
.btn-ok{background:#2ecc71;}
.btn-del{background:#e74c3c;}
.btn-del[disabled]{opacity:.4}

/* ===== PRINT ===== */
@media print{
html,body{
width:210mm;
height:297mm;
overflow:hidden;
}
.container{
width:210mm;
height:297mm;
overflow:hidden;
}
button{display:none!important;}
}
</style>
</head>

<body>
<div class="container">
<div class="watermark"></div>

<h1>LeistungsbestÃ¤tigung</h1>

<div class="section-title">Mitarbeiter</div>
<div class="grid">
<label class="checkbox"><input type="checkbox"> HervÃ© Mbarga</label>
<label class="checkbox"><input type="checkbox"> Jacky Massing</label>
</div>

<div class="section-title">Kunde</div>
<div class="grid">
<div class="field"><input placeholder=" "><label>Vorname</label></div>
<div class="field"><input placeholder=" "><label>Nachname</label></div>
<div class="field"><input placeholder=" "><label>Telefon</label></div>
<div class="field"><input placeholder=" "><label>Anschrift</label></div>
</div>

<div class="section-title">Datum & Zeit</div>
<div class="grid">
<div class="field"><input type="date"><label>Datum</label></div>

<div class="field">
<select id="sh"></select><label>Beginn â€“ Stunde</label>
</div>
<div class="field">
<select id="sm"></select><label>Beginn â€“ Minute</label>
</div>

<div class="field">
<select id="eh"></select><label>Ende â€“ Stunde</label>
</div>
<div class="field">
<select id="em"></select><label>Ende â€“ Minute</label>
</div>
</div>

<div class="section-title">Unterschriften</div>
<div class="grid">
<div>
<strong>Kunde</strong>
<div class="signature-box">
<canvas id="sig"></canvas>
</div>
<div class="sig-actions">
<button class="btn-ok" id="confirm">BestÃ¤tigen</button>
<button class="btn-del" id="clear">LÃ¶schen</button>
</div>
</div>
</div>

</div>

<script>
/* ===== TIME OPTIONS ===== */
function fill(id,max){
const s=document.getElementById(id);
for(let i=0;i<=max;i++){
const o=document.createElement("option");
o.text=o.value=String(i).padStart(2,"0");
s.add(o);
}
}
fill("sh",23);fill("eh",23);fill("sm",59);fill("em",59);

/* ===== SIGNATURE LOCK ===== */
const c=document.getElementById("sig");
const ctx=c.getContext("2d");
let drawing=false,locked=false;

function resize(){
c.width=c.offsetWidth;
c.height=c.offsetHeight;
}
resize();window.addEventListener("resize",resize);

c.addEventListener("pointerdown",e=>{
if(locked) return;
drawing=true;
ctx.moveTo(e.offsetX,e.offsetY);
});
c.addEventListener("pointermove",e=>{
if(!drawing||locked) return;
ctx.lineTo(e.offsetX,e.offsetY);
ctx.stroke();
});
window.addEventListener("pointerup",()=>drawing=false);

document.getElementById("confirm").onclick=()=>{
locked=true;
document.getElementById("clear").disabled=true;
};
document.getElementById("clear").onclick=()=>{
if(locked) return;
ctx.clearRect(0,0,c.width,c.height);
};

/* ===== ONE PAGE PRINT FIX ===== */
window.addEventListener("beforeprint",()=>{
const box=document.querySelector(".container");
const scale=Math.min(1,297/(box.scrollHeight/3.78));
box.style.transform=`scale(${scale})`;
box.style.transformOrigin="top left";
});
</script>

</body>
</html>
