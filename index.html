<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Leistungsbestätigung</title>

<script src="https://cdn.jsdelivr.net/npm/signature_pad@4.0.0/dist/signature_pad.umd.min.js"></script>

<style>
*{box-sizing:border-box}
body{
margin:0;
font-family:Arial,Helvetica,sans-serif;
background:#f0f2f4;
}
.container{
max-width:1100px;
margin:auto;
background:#fff;
padding:20px;
border-radius:12px;
position:relative;
}

/* TITRES */
h1{text-align:center;margin-bottom:20px}
.section-title{
border-left:6px solid #2ecc71;
padding-left:10px;
font-weight:bold;
margin:25px 0 10px;
}

/* FORM GRID */
.grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
gap:15px;
}

label{font-size:14px;font-weight:600}
input,select{
width:100%;
padding:10px;
border-radius:8px;
border:1px solid #ccc;
font-size:14px;
}

/* EMPLOYÉS */
.employees{
display:flex;
gap:30px;
flex-wrap:wrap;
}
.employee{
display:flex;
align-items:center;
gap:8px;
font-weight:600;
}

/* SIGNATURES */
.signatures{
display:grid;
grid-template-columns:1fr 1fr;
gap:20px;
margin-top:10px;
}
.signature-box{
border:2px dashed #bbb;
border-radius:10px;
padding:10px;
}
.signature-box label{
display:block;
margin-bottom:6px;
}
.signature-box canvas{
width:100%;
height:160px;
background:#fff;
touch-action:none;
}

/* BOUTONS */
.buttons{
display:flex;
gap:20px;
margin-top:15px;
}
button{
flex:1;
padding:14px;
border:none;
border-radius:8px;
font-size:16px;
font-weight:bold;
color:#fff;
cursor:pointer;
}
.btn-ok{background:#2ecc71}
.btn-del{background:#e74c3c}
button:disabled{opacity:.5;cursor:not-allowed}

/* PDF */
@media print{
body{background:#fff}
.buttons{display:none}
.container{
max-width:100%;
page-break-inside:avoid;
}
}

/* MOBILE */
@media(max-width:700px){
.signatures{grid-template-columns:1fr}
}
</style>
</head>

<body>
<div class="container">

<h1>Leistungsbestätigung</h1>

<div class="section-title">Mitarbeiter</div>
<div class="employees">
<div class="employee"><input type="checkbox"> Hervé Mbarga</div>
<div class="employee"><input type="checkbox"> Jacky Massing</div>
</div>

<div class="section-title">Kunde</div>
<div class="grid">
<div><label>Vorname</label><input></div>
<div><label>Nachname</label><input></div>
<div><label>Telefon</label><input></div>
<div><label>Anschrift</label><input></div>
</div>

<div class="section-title">Datum & Zeit</div>
<div class="grid">
<div><label>Datum</label><input type="date"></div>
<div><label>Beginn – Stunde</label><select id="bh"></select></div>
<div><label>Beginn – Minute</label><select id="bm"></select></div>
<div><label>Ende – Stunde</label><select id="eh"></select></div>
<div><label>Ende – Minute</label><select id="em"></select></div>
</div>

<div class="section-title">Unterschriften</div>
<div class="signatures">
<div class="signature-box">
<label>Kunde</label>
<canvas id="sigClient"></canvas>
</div>
<div class="signature-box">
<label>Mitarbeiter</label>
<canvas id="sigEmployee"></canvas>
</div>
</div>

<div class="buttons">
<button class="btn-ok" id="confirm">Bestätigen</button>
<button class="btn-del" id="clear">Löschen</button>
</div>

</div>

<script>
function fill(sel,max){
for(let i=0;i<=max;i++){
let o=document.createElement("option");
o.text=o.value=String(i).padStart(2,"0");
sel.add(o);
}
}
fill(bh,23); fill(eh,23); fill(bm,59); fill(em,59);

const sigClient=new SignaturePad(sigClient,{backgroundColor:"white"});
const sigEmployee=new SignaturePad(sigEmployee,{backgroundColor:"white"});

let locked=false;

confirm.onclick=()=>{
if(locked)return;
sigClient.off();
sigEmployee.off();
clear.disabled=true;
locked=true;
};

clear.onclick=()=>{
if(locked)return;
sigClient.clear();
sigEmployee.clear();
};
</script>

</body>
</html>
