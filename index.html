<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Leistungsbestätigung</title>

<style>
*{box-sizing:border-box}
body{
margin:0;
font-family:Arial,Helvetica,sans-serif;
background:#f2f4f7;
}
.container{
max-width:900px;
margin:auto;
background:#fff;
padding:16px;
position:relative;
overflow:hidden;
}

/* ===== WATERMARK ===== */
.watermark{
position:absolute;
inset:0;
background:url("HJ_Clean.png") center/60% no-repeat;
opacity:0.08;
pointer-events:none;
z-index:0;
}

/* ===== HEADER ===== */
header{
display:flex;
flex-direction:column;
gap:10px;
z-index:1;
position:relative;
}
.header-top{
display:flex;
gap:12px;
align-items:center;
flex-wrap:wrap;
}
.header-top img{height:55px}
.header-info{font-size:13px;line-height:1.4}
h1{text-align:center;margin:12px 0}

/* ===== SECTIONS ===== */
section{
margin-top:18px;
z-index:1;
position:relative;
}
.section-title{
font-weight:bold;
margin-bottom:8px;
border-left:4px solid #2ecc71;
padding-left:8px;
}

/* ===== FORM GRID ===== */
.grid{
display:grid;
grid-template-columns:1fr;
gap:10px;
}
@media(min-width:700px){
.grid{grid-template-columns:repeat(4,1fr)}
.span-2{grid-column:span 2}
.span-4{grid-column:span 4}
}

label{
font-size:13px;
font-weight:bold;
}
input,select{
width:100%;
padding:10px;
border-radius:8px;
border:1px solid #ccc;
font-size:14px;
}

/* ===== EMPLOYEES ===== */
.employees{
display:flex;
gap:20px;
flex-wrap:wrap;
}
.employees label{
display:flex;
align-items:center;
gap:8px;
font-weight:normal;
}

/* ===== SIGNATURE ===== */
.signature-box{
border:2px dashed #bbb;
border-radius:10px;
padding:10px;
}
canvas{
width:100%;
height:160px;
background:#fff;
border-radius:6px;
touch-action:none;
}
.sig-actions{
display:flex;
gap:10px;
margin-top:8px;
}
.sig-actions button{
flex:1;
padding:12px;
border:none;
border-radius:8px;
color:#fff;
font-size:14px;
}
.confirm{background:#2ecc71}
.delete{background:#e74c3c}
button:disabled{
background:#999;
cursor:not-allowed;
}

/* ===== PRINT ===== */
@media print{
body{background:#fff}
.container{
box-shadow:none;
padding:10mm;
max-width:210mm;
min-height:297mm;
}
button{display:none}
}
</style>
</head>

<body>
<div class="container">
<div class="watermark"></div>

<header>
<div class="header-top">
<img src="HJ_Clean.png">
<div class="header-info">
<strong>Cleaning – Marke von HJ Corporate GbR</strong><br>
Stauseestraße 27b · 54317 Riveris<br>
Tel. +49 176 87898900 · info@hjcorporate.de
</div>
</div>
<h1>Leistungsbestätigung</h1>
</header>

<section>
<div class="section-title">Mitarbeiter</div>
<div class="employees">
<label><input type="checkbox" class="emp"> Hervé Mbarga</label>
<label><input type="checkbox" class="emp"> Jacky Massing</label>
</div>
</section>

<section>
<div class="section-title">Kunde</div>
<div class="grid">
<div class="span-2"><label>Vorname</label><input></div>
<div class="span-2"><label>Nachname</label><input></div>
<div class="span-2"><label>Telefon</label><input></div>
<div class="span-2"><label>Anschrift</label><input></div>
</div>
</section>

<section>
<div class="section-title">Datum & Zeit</div>
<div class="grid">
<div class="span-2"><label>Datum</label><input type="date"></div>

<div>
<label>Beginn – Stunde</label>
<select id="bh"></select>
</div>
<div>
<label>Beginn – Minute</label>
<select id="bm"></select>
</div>

<div>
<label>Ende – Stunde</label>
<select id="eh"></select>
</div>
<div>
<label>Ende – Minute</label>
<select id="em"></select>
</div>
</div>
</section>

<section>
<div class="section-title">Unterschriften</div>

<label>Kunde</label>
<div class="signature-box">
<canvas id="sig"></canvas>
<div class="sig-actions">
<button class="confirm" id="confirm">Bestätigen</button>
<button class="delete" id="clear">Löschen</button>
</div>
</div>
</section>

<button onclick="window.print()" style="width:100%;margin-top:20px;padding:14px;font-size:16px">
Als PDF speichern / drucken
</button>

</div>

<script>
/* === HOURS / MINUTES === */
function fill(sel,max){
for(let i=0;i<=max;i++){
let o=document.createElement("option");
o.text=o.value=String(i).padStart(2,"0");
sel.add(o);
}
}
fill(bh,23);fill(eh,23);
fill(bm,59);fill(em,59);

/* === SIGNATURE === */
const canvas=document.getElementById("sig");
const ctx=canvas.getContext("2d");
let drawing=false, locked=false;

canvas.addEventListener("pointerdown",e=>{
if(locked)return;
drawing=true;
ctx.beginPath();
});
canvas.addEventListener("pointermove",e=>{
if(!drawing||locked)return;
const r=canvas.getBoundingClientRect();
ctx.lineWidth=2;
ctx.lineCap="round";
ctx.lineTo(e.clientX-r.left,e.clientY-r.top);
ctx.stroke();
});
canvas.addEventListener("pointerup",()=>drawing=false);

confirm.onclick=()=>{
locked=true;
confirm.disabled=true;
clear.disabled=true;
};
clear.onclick=()=>{
if(locked)return;
ctx.clearRect(0,0,canvas.width,canvas.height);
};
</script>
</body>
</html>
